{"version":3,"sources":["components/ExplanationModal.js","components/FooterBar.js","functions/useDidUpdate.js","components/DayButton.js","components/DayButtonGrid.js","services/storage.js","Game.js","functions/useHighScoreState.js","App.js","serviceWorker.js","index.js"],"names":["centuryIndexMap","18","19","20","21","doomsdaysForMonth","1","2","3","4","5","6","7","8","9","10","11","12","doomsdaysForMonthInLeapYear","ExplanationModal","props","day","moment","currentDay","centuryIndex","format","substring","year","Number","yearAfter1Step","yearAfter2Step","yearAfter3Step","nearestMultiple","weekDay","doomsday","isLeapYear","dayNumber","doomsdayNumber","doomsdayToDayChain","Math","abs","push","length","Box","direction","margin","Heading","alignSelf","className","Text","bottom","pad","horizontal","vertical","map","date","index","key","FooterBar","useState","fullyHidden","setFullyHidden","React","showExplanation","setShowExplanation","callback","deps","hasMount","useRef","useEffect","current","useDidUpdate","isVisible","justify","right","left","animation","Button","label","onClick","style","visibility","Layer","onEsc","onClickOutside","responsive","onContinueClick","DayButton","anySelected","undefined","selectedDayOfWeek","isSelectedButFalse","expectedDayOfWeek","number","isCorrect","flex","basis","align","boxShadow","background","setSelectedDayOfWeek","size","weekdays","DayButtonGrid","selected","setSelected","expected","grow","width","wrap","storage","localStorage","getItem","score","setItem","require","momentRandom","Game","generateRandomDay","endDate","startDate","parseDateToWeekDayNumber","initialDay","setCurrentDay","setScore","highScore","setHighScore","useHighScoreState","setExpectedDayOfWeek","timeLeft","setTimeLeft","timer","setTimeout","t","clearTimeout","fill","overflow","maxWidth","top","type","duration","level","color","nextDay","href","data-icon","data-show-count","aria-label","theme","global","font","family","App","Grommet","full","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","document","getElementById","URL","process","origin","addEventListener","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.d78d12ed.chunk.js","sourcesContent":["import React, {Fragment} from 'react';\r\nimport {Box, Heading, Text} from \"grommet\";\r\nimport * as moment from \"moment\";\r\n\r\nconst centuryIndexMap = {18: 5, 19: 3, 20: 2, 21: 0};\r\nconst doomsdaysForMonth = {1: \"03\", 2: \"14\", 3: \"07\", 4: \"04\", 5: \"09\", 6: \"06\", 7: \"11\", 8: \"08\", 9: \"05\", 10: \"10\", 11: \"07\", 12: \"12\"};\r\nconst doomsdaysForMonthInLeapYear = {...doomsdaysForMonth, 1: \"04\", 2: \"15\"};\r\n\r\nexport default function ExplanationModal(props) {\r\n\r\n  let day = moment(props.currentDay);\r\n\r\n  let centuryIndex = centuryIndexMap[day.format(\"Y\").substring(0, 2)];\r\n  let year = Number(day.format(\"YY\"));\r\n  let yearAfter1Step = year % 2 === 1 ? (year + 11) : year;\r\n  let yearAfter2Step = yearAfter1Step / 2;\r\n  let yearAfter3Step = yearAfter2Step % 2 === 1 ? yearAfter2Step + 11 : yearAfter2Step;\r\n  let nearestMultiple = yearAfter3Step % 7 === 0 ?  yearAfter3Step : yearAfter3Step + 7 - (yearAfter3Step % 7);\r\n  let weekDay = (nearestMultiple - yearAfter3Step + centuryIndex) % 7;\r\n  let doomsday = day.isLeapYear() ?\r\n      `${day.format(\"MM-\")}${doomsdaysForMonthInLeapYear[day.format(\"M\")]}` :\r\n      `${day.format(\"MM-\")}${doomsdaysForMonth[day.format(\"M\")]}`;\r\n\r\n  let dayNumber = Number(day.format(\"D\"));\r\n  let doomsdayNumber = Number(doomsday.substring(3));\r\n  let doomsdayToDayChain = [];\r\n\r\n  while (Math.abs(dayNumber - doomsdayNumber) > 6) {\r\n    doomsdayToDayChain.push(`${day.format(\"MM-\")}${doomsdayNumber < 10 ? `0${doomsdayNumber}` : doomsdayNumber}`);\r\n    if (doomsdayNumber < dayNumber) doomsdayNumber += 7;\r\n    else doomsdayNumber -= 7;\r\n  }\r\n  if (doomsdayToDayChain.length > 0) {\r\n    doomsdayToDayChain.push(`${day.format(\"MM-\")}${doomsdayNumber < 10 ? `0${doomsdayNumber}` : doomsdayNumber}`);\r\n  }\r\n\r\n  return <Box direction={\"column\"} margin={\"medium\"}>\r\n    <Heading alignSelf={\"center\"}>\r\n      <span className={\"century\"}>{day.format(\"Y\").substring(0, 2)}</span>\r\n      <span className={\"year\"}>{day.format(\"YY\")}</span>-\r\n      <span className={\"month\"}>{day.format(\"MM\")}</span>-\r\n      <span className={\"day\"}>{day.format(\"DD\")}</span>\r\n    </Heading>\r\n    <Text margin={{bottom: \"xsmall\"}}>\r\n      Century index for the <b className={\"century\"}>{day.format(\"Y\").substring(0, 2)}</b>00s is <b className={\"centuryIndex\"}>{centuryIndex}</b>.\r\n    </Text>\r\n    <Text>\r\n      Calculating the year index for year <b className={\"year\"}>{day.format(\"YY\")}</b> using \"odd + 11\" method:\r\n    </Text>\r\n    <Box pad={{horizontal: \"medium\", vertical: 'xsmall'}} margin={{bottom: \"xsmall\"}}>\r\n      {year !== yearAfter1Step &&\r\n        <Text>{year} is odd, adding 11: {year} + 11 = {yearAfter1Step};</Text>\r\n      }\r\n      <Text>{yearAfter1Step} is even, dividing by 2: {yearAfter1Step} / 2 = { yearAfter2Step === yearAfter3Step ? <><b className={\"yearIndex\"}>{yearAfter2Step}</b>.</> : `${yearAfter2Step};`}</Text>\r\n      {yearAfter2Step !== yearAfter3Step &&\r\n        <Text>{yearAfter2Step} is odd, adding 11: {yearAfter2Step} + 11 = <b className={\"yearIndex\"}>{yearAfter3Step}</b>.</Text>\r\n      }\r\n    </Box>\r\n    <Text>The nearest higher multiple of 7 to <b className={\"yearIndex\"}>{yearAfter3Step}</b> is <b className={\"nearestMultiple\"}>{nearestMultiple}</b>.</Text>\r\n    <Text margin={{bottom: \"xsmall\"}}>Calculating the weekday of the doomsday: (<b className={\"nearestMultiple\"}>{nearestMultiple}</b> - <b className={\"yearIndex\"}>{yearAfter3Step}</b> + <b className={\"centuryIndex\"}>{centuryIndex}</b>) mod 7 = <b className={\"doomsdayWeekDay\"}>{weekDay}</b> <b>({moment.weekdays(weekDay)})</b>.</Text>\r\n    <Text>\r\n      Doomsday for {day.format(\"MMMM\")} is <b>{doomsday.substring(0, 3)}</b><b className={doomsdayToDayChain.length === 0 ? \"doomsday\" : \"\"}>{doomsday.substring(3)}</b>{day.isLeapYear() && (day.format(\"M\") < 3) && <b> (leap year)</b>}.\r\n    </Text>\r\n    {doomsdayToDayChain.length > 0 && <>\r\n      <Text>Selecting a doomsday closer to our date:</Text>\r\n      <Box pad={{horizontal: \"medium\", vertical: 'xsmall'}}>\r\n        <Text>\r\n          {doomsdayToDayChain.map((date, index) => {\r\n            if (index === doomsdayToDayChain.length - 1) return <Fragment key={index}><b>{date.substring(0, 3)}</b><b className={\"doomsday\"}>{date.substring(3)}</b>.</Fragment>;\r\n            return `${date} -> `\r\n          })}\r\n        </Text>\r\n      </Box>\r\n      </>\r\n    }\r\n    {doomsdayNumber === dayNumber ?\r\n        <Text>Our date matches the doomsday, and it is <b>{day.format(\"dddd\")}</b>.</Text> :\r\n        <Text>Calculating the day of the week: (<b className={\"doomsdayWeekDay\"}>{weekDay}</b> {dayNumber > doomsdayNumber ?\r\n            <> + (<b className={\"day\"}>{dayNumber}</b> - <b className={\"doomsday\"}>{doomsdayNumber}</b>)</> :\r\n            <> - (<b className={\"doomsday\"}>{doomsdayNumber}</b> - <b className={\"day\"}>{dayNumber}</b>)</>\r\n        }) mod 7 = <b>{day.format(\"d\")} ({day.format(\"dddd\")})</b>.</Text>\r\n    }\r\n  </Box>\r\n}","import React, {useState} from 'react';\r\nimport {Box, Button, Layer} from \"grommet\";\r\nimport useDidUpdate from \"../functions/useDidUpdate\";\r\nimport ExplanationModal from \"./ExplanationModal\";\r\n\r\nexport default function FooterBar(props) {\r\n\r\n  const [fullyHidden, setFullyHidden] = useState(true);\r\n  const [showExplanation, setShowExplanation] = React.useState(false);\r\n\r\n  useDidUpdate(() => {\r\n    setFullyHidden(false)\r\n  }, [props.isVisible]);\r\n\r\n  return <Box\r\n    key={props.isVisible}\r\n    direction={\"row\"}\r\n    justify={\"between\"}\r\n    margin={{bottom: \"small\", right: \"large\", left: \"large\"}}\r\n    animation={props.isVisible ? {\"type\": \"fadeIn\"} : {\"type\": \"fadeOut\", \"duration\": 200}}\r\n  >\r\n    <Button\r\n        label={\"Explanation\"}\r\n        onClick={props.isVisible ? () => setShowExplanation(true) : () => {}}\r\n        style={{visibility: (fullyHidden ? \"hidden\" : \"visible\")}}\r\n    />\r\n    {showExplanation && (\r\n        <Layer\r\n            onEsc={() => setShowExplanation(false)}\r\n            onClickOutside={() => setShowExplanation(false)}\r\n            margin={\"medium\"}\r\n            className={\"modal\"}\r\n            responsive={false}\r\n        >\r\n          <ExplanationModal currentDay={props.currentDay}/>\r\n        </Layer>\r\n    )}\r\n    <Button\r\n      label={\"Continue\"}\r\n      onClick={props.isVisible ? props.onContinueClick : () => {}}\r\n      style={{visibility: (fullyHidden ? \"hidden\" : \"visible\")}}\r\n    />\r\n  </Box>\r\n}\r\n","import {useEffect, useRef} from 'react';\r\n\r\nexport default function useDidUpdate (callback, deps) {\r\n  const hasMount = useRef(false);\r\n\r\n  useEffect(() => {\r\n    if (hasMount.current) {\r\n      callback()\r\n    } else {\r\n      hasMount.current = true\r\n    }\r\n  }, deps)\r\n}\r\n","import {Box, Text} from \"grommet\";\r\nimport React from \"react\";\r\nimport moment from \"moment\";\r\n\r\nexport default function DayButton(props) {\r\n\r\n  const anySelected = props.selectedDayOfWeek !== undefined;\r\n\r\n  const isSelectedButFalse =  anySelected &&\r\n    props.selectedDayOfWeek !== props.expectedDayOfWeek &&\r\n    props.number === props.selectedDayOfWeek;\r\n\r\n  const isCorrect = anySelected &&\r\n    props.number === props.expectedDayOfWeek;\r\n\r\n  return props.number !== undefined ?\r\n    <Box\r\n      flex={{'grow': 1}}\r\n      basis={'xxsmall'}\r\n      align={'center'}\r\n      justify={'center'}\r\n      style={{boxShadow: \"none\"}}\r\n      animation={(isSelectedButFalse || isCorrect) ? {\"type\": \"zoomIn\", \"duration\": 400} : {}}\r\n      background={isSelectedButFalse ? 'status-error' : (isCorrect ? 'status-ok' : \"\")}\r\n      onClick={() => {\r\n        if (!anySelected) props.setSelectedDayOfWeek(props.number)\r\n      }}\r\n    >\r\n      <Text size={\"large\"}>{moment.weekdays(props.number)}</Text>\r\n    </Box> :\r\n    <Box\r\n      flex={{'grow': 1}}\r\n      basis={'xxsmall'}\r\n    />;\r\n}\r\n","import {Box} from \"grommet\";\r\nimport DayButton from \"./DayButton\";\r\nimport React from \"react\";\r\n\r\nexport default function DayButtonGrid(props) {\r\n\r\n  let selected = props.selectedDayOfWeek;\r\n  let setSelected = props.setSelectedDayOfWeek;\r\n  let expected = props.expectedDayOfWeek;\r\n\r\n  return <Box\r\n    flex={{grow: 2}}\r\n    direction={'column'}\r\n    justify={'center'}\r\n    alignSelf={'center'}\r\n    style={{width: \"100%\"}}\r\n  >\r\n    <Box\r\n      flex={'grow'}\r\n      direction={\"row\"}\r\n      align={'stretch'}\r\n      wrap={true}\r\n    >\r\n      <DayButton number={1} selectedDayOfWeek={selected} setSelectedDayOfWeek={setSelected} expectedDayOfWeek={expected}/>\r\n      <DayButton number={2} selectedDayOfWeek={selected} setSelectedDayOfWeek={setSelected} expectedDayOfWeek={expected}/>\r\n      <DayButton number={3} selectedDayOfWeek={selected} setSelectedDayOfWeek={setSelected} expectedDayOfWeek={expected}/>\r\n    </Box>\r\n    <Box\r\n      flex={'grow'}\r\n      direction={\"row\"}\r\n      align={'stretch'}\r\n      wrap={true}\r\n    >\r\n      <DayButton number={4} selectedDayOfWeek={selected} setSelectedDayOfWeek={setSelected} expectedDayOfWeek={expected}/>\r\n      <DayButton number={5} selectedDayOfWeek={selected} setSelectedDayOfWeek={setSelected} expectedDayOfWeek={expected}/>\r\n      <DayButton number={6} selectedDayOfWeek={selected} setSelectedDayOfWeek={setSelected} expectedDayOfWeek={expected}/>\r\n    </Box>\r\n    <Box\r\n      flex={'grow'}\r\n      direction={\"row\"}\r\n      align={'stretch'}\r\n      wrap={true}\r\n    >\r\n      <DayButton />\r\n      <DayButton number={0} selectedDayOfWeek={selected} setSelectedDayOfWeek={setSelected} expectedDayOfWeek={expected}/>\r\n      <DayButton />\r\n    </Box>\r\n  </Box>\r\n}\r\n","const getHighScore = () => localStorage.getItem('highScore') || 0;\r\nconst setHighScore = (score) => {\r\n  localStorage.setItem('highScore', score)\r\n};\r\n\r\nexport const storage = {\r\n  getHighScore,\r\n  setHighScore\r\n};","import React, {useEffect, useRef, useState} from 'react';\r\nimport {Box, Heading, Text} from 'grommet';\r\nimport FooterBar from \"./components/FooterBar\";\r\nimport DayButtonGrid from \"./components/DayButtonGrid\";\r\nimport {useHighScoreState} from \"./functions/useHighScoreState\";\r\nimport GitHubButton from 'react-github-btn'\r\nconst moment = require('moment');\r\nconst momentRandom = require('moment-random');\r\n\r\nfunction Game(props) {\r\n\r\n  const generateRandomDay = () => momentRandom(\r\n    moment(props.endDate),\r\n    moment(props.startDate)\r\n  );\r\n\r\n  const parseDateToWeekDayNumber = (date) => Number(date.format('d'));\r\n\r\n  let initialDay = generateRandomDay();\r\n  const [currentDay, setCurrentDay] = useState(initialDay.format(\"Y-MM-DD\"));\r\n  const [score, setScore] = useState(0);\r\n  const [highScore, setHighScore] = useHighScoreState();\r\n  const [selectedDayOfWeek, setSelectedDayOfWeek] = useState();\r\n  const [expectedDayOfWeek, setExpectedDayOfWeek] = useState(parseDateToWeekDayNumber(initialDay));\r\n  const [timeLeft, setTimeLeft] = useState(10);\r\n  let timer = useRef();\r\n\r\n  useEffect(() => {\r\n    if (timeLeft > 0 && selectedDayOfWeek === undefined) {\r\n      timer.current = setTimeout(() => {\r\n        setTimeLeft(t => t - 1)\r\n      }, 1000)\r\n    } else {\r\n      clearTimeout(timer.current)\r\n    }\r\n  }, [timeLeft, selectedDayOfWeek]);\r\n\r\n  const startNewRound = () => {\r\n    let nextDay = generateRandomDay();\r\n    setCurrentDay(nextDay.format(\"Y-MM-DD\"));\r\n    if (selectedDayOfWeek === expectedDayOfWeek && timeLeft > 0) {\r\n      setScore(score => score + 1);\r\n      if (score + 1 > highScore) setHighScore(score + 1);\r\n    } else {\r\n      setScore(0)\r\n    }\r\n    setSelectedDayOfWeek(undefined);\r\n    setExpectedDayOfWeek(parseDateToWeekDayNumber(nextDay));\r\n    setTimeLeft(10)\r\n  };\r\n\r\n  return (\r\n      <Box fill background={'brand'} direction={'column'} overflow={'hidden'}>\r\n        <Box direction={\"column\"} flex={\"grow\"} style={{maxWidth: 800, width: \"100%\"}} alignSelf={'center'}>\r\n          <Box\r\n            direction={\"row\"}\r\n            justify={\"between\"}\r\n            margin={{top: \"medium\", right: \"medium\", left: \"medium\"}}\r\n          >\r\n            <Text size={\"xlarge\"}>Highscore: {highScore}</Text>\r\n            <Text size={\"xlarge\"}>Score: {score}</Text>\r\n          </Box>\r\n          <Box\r\n            key={currentDay}\r\n            flex={{grow: 1}}\r\n            align={'center'}\r\n            justify={'center'}\r\n            animation={{\"type\":\"fadeIn\"}}\r\n          >\r\n            <Box animation={(timeLeft <= 3 && timeLeft > 0) ? {type: \"pulse\", size: \"large\", duration: 500} : {}} flex={{grow: 1}}>\r\n              <Heading size={\"large\"} level={'1'} color={timeLeft === 0 && 'status-warning'}>\r\n                {timeLeft}\r\n              </Heading>\r\n            </Box>\r\n            <Box flex={{grow: 4}}>\r\n              <Heading size={\"large\"} level={'1'}>\r\n                {currentDay}\r\n              </Heading>\r\n            </Box>\r\n          </Box>\r\n          <DayButtonGrid selectedDayOfWeek={selectedDayOfWeek} setSelectedDayOfWeek={setSelectedDayOfWeek} expectedDayOfWeek={expectedDayOfWeek}/>\r\n          <FooterBar onContinueClick={startNewRound} isVisible={selectedDayOfWeek !== undefined} currentDay={currentDay}/>\r\n          <Box\r\n              direction={\"row\"}\r\n              justify={\"end\"}\r\n              margin={{right: \"large\", left: \"large\"}}\r\n          >\r\n            <GitHubButton href=\"https://github.com/grantas33/Doomsday-algorithm-practice\" data-icon=\"octicon-star\" data-show-count=\"true\" aria-label=\"Star me on GitHub\">Star</GitHubButton>\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n  );\r\n}\r\n\r\nexport default Game;\r\n","import { useState, useEffect } from 'react';\r\nimport {storage} from \"../services/storage\";\r\n\r\nexport function useHighScoreState() {\r\n  const [highScore, setHighScore] = useState(storage.getHighScore());\r\n\r\n  useEffect(() => {\r\n    storage.setHighScore(highScore)\r\n  }, [highScore]);\r\n\r\n  return [highScore, setHighScore];\r\n}","import React from 'react';\r\nimport {Grommet} from 'grommet';\r\nimport Game from \"./Game\";\r\nimport './App.css';\r\nconst theme = {\r\n  global: {\r\n    font: {\r\n      family: 'Solway'\r\n    }\r\n  },\r\n};\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <Grommet theme={theme} full>\r\n     <Game startDate={'1800-01-01'} endDate={'2199-12-31'}/>\r\n    </Grommet>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n"],"sourceRoot":""}